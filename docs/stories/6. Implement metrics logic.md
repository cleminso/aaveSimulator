# Implement and connect logic of the simulator

## Acceptance criterion

- Logic of 'CollateralValue' card from the 'HealthFactor section':
  - Definition: The total value of the assets deposited by the user as collateral from 'Collateral section'
  - Formula: `Collateral Value = Σ (Collateral Amount of Asset × Price of Asset)`
  - Example: If a user deposits 1 ETH (priced at 2,000) and 100USDC(priced at 2,000) and 100USDC (priced at 1), the Collateral Value = (1 × 2,000)+(100×2,000)+(100×1) = $2,100.
- Logic of 'Liquidation Threshold' card from the 'healthFactor section':
  - Definition: The maximum percentage of the collateral value that can be borrowed before the position becomes eligible for liquidation.
  - Formula: `Liquidation Threshold = Σ (Collateral Amount of Asset × Price of Asset × Liquidation Threshold of Asset)`
  - Example: If ETH has a liquidation threshold of 80% and USDC has 85%, the Liquidation Threshold = (1 × 2,000×0.80)+(100×2,000×0.80)+(100×1 × 0.85) = 1,600+1,600+85 = $1,685.
- Logic of 'Total Borrowed' card from the 'HealthFactor section':
  - Definition: The total value of the assets the user has borrowed.
  - Formula: `Total Borrowed = Σ (Borrowed Amount of Asset × Price of Asset)`
  - Example:  If a user borrows 0.5ETH (priced at 2,000) and 50USDC (priced at 2,000) and 50USDC(priced at 1), the Total Borrowed = (0.5 × 2,000)+(50×2,000)+(50×1) = 1,000+1,000+50 = $1,050.
  - Logic of 'Current LTV / Max LTV' card from the HealthFactor' section:
    - Definition: The ratio of the total borrowed amount to the collateral value / the maximum LTV allowed by the protocol, beyond which borrowing is not permitted.
    - Formula to calculate 'Current LTV': `Current LTV = (Total Borrowed / Collateral Value) × 100`
    - Example:If Total Borrowed = 1,050 and Collateral Value = 1,050 and Collateral Value  = 2,100, the Current LTV = (1,050/1,050/2,100) × 100 = 50%.
    - The 'Max LTV' is from the 'aave-paramater.md' file
    - Example: If the Max LTV is 90%, the user cannot borrow more than 90% of their collateral value, that current LTV should never extend the 'Max LTV' value
- Logic of 'Available to Borrow' card from the 'healthfactor section':
  - Definition: The maximum amount a user can borrow without exceeding the Max LTV or risking liquidation.
  - Formula: `Available to Borrow = (Collateral Value × Max LTV) - Total Borrowed`
  - Example: If Collateral Value = 2,100, MaxLTV = 902,100, MaxLTV =901,050,  the Available to Borrow = (2,100×0.90)−2,100×0.90)−1,050 = 1,890−1,890−1,050 = $840.
- Logic of 'Borrowing Capacity' card from the 'HealthFactor section':
  - Definition: The percentage of the collateral value that can still be borrowed.
  - Formula: `Borrowing Capacity = (Available to Borrow / (Collateral Value × Max LTV)) × 100`
  - Example: If  Available to Borrow = 840 and (CollateralValue×MaxLTV) = 840 and (CollateralValue×MaxLTV) = 1,890, the Borrowing Capacity = (840/840/1,890) × 100 = 44.44%.
- The paramters used to calculate the metrics are from 'aave-paramater.md' file
- Each values should be displayed as text inside the 'CardContent' before the $
- The values from 'HealthFactor section' should be updated each time a parameter from 'Simulator component' changes
