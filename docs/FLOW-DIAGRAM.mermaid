flowchart TD
    A[User is on the simulator page] --> B{User interacts with components}
    B -->|Manually interacts without address| C[Calculate Health Factor using formula]
    C --> D[Display Health Factor Value in 'healthFactorValue' section]

    A --> E{User pastes Ethereum address}
    E -->|Address has borrowing position| F[Fetch data from API]
    F --> G[Autofill metrics in components]
    G --> H[Calculate Health Factor using formula]
    H --> I[Display Health Factor Value in 'healthFactorValue' section]

    E -->|Address has no borrowing position| J[Display error modal]

    A --> K{User removes address}
    K --> L[Clear page content]
    L --> M[Reset page to default state]

    A --> N{User enters new address}
    N --> O[Fetch data from API]
    O --> P[Update components with new data]
    P --> Q[Recalculate Health Factor]
    Q --> R[Display updated Health Factor Value]
